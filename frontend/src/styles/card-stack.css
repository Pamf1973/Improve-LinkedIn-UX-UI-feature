/* === MAIN CONTENT === */
.content-center { display: flex; flex-direction: column; gap: .75rem; min-width: 0; }

/* View Headers */
.view-header { display: none; background: var(--glass-bg); backdrop-filter: var(--glass-blur); -webkit-backdrop-filter: var(--glass-blur); padding: 1rem 1.25rem; border-radius: var(--card-radius); border: 1px solid var(--glass-border); justify-content: space-between; align-items: center; flex-wrap: wrap; gap: .75rem; transition: all .3s ease; }
.view-header.active { display: flex; animation: fadeIn .25s ease; }
.header-left { display: flex; align-items: center; gap: .875rem; }
.header-left h2 { font-family: var(--font-display); font-size: 1.25rem; font-weight: 600; }
.jobs-count { font-size: .75rem; color: var(--text-tertiary); font-weight: 500; }
.header-controls { display: flex; gap: .375rem; flex-wrap: wrap; margin-left: auto; }


/* Job Limit Badge — free tier counter */
.jobs-limit-badge {
    display: inline-flex;
    align-items: center;
    gap: .25rem;
    font-size: .75rem;
    color: var(--text-secondary);
    background: var(--bg);
    padding: .25rem .625rem;
    border-radius: 100px;
    border: 1px solid var(--border);
    font-weight: 500;
}
.jobs-limit-badge strong { color: var(--primary); font-weight: 700; font-size: .8125rem; }
.jobs-limit-badge .limit-sep { color: var(--text-tertiary); font-weight: 400; }
.jobs-limit-badge .limit-label { font-size: .625rem; color: var(--text-tertiary); text-transform: uppercase; letter-spacing: .06em; margin-left: .125rem; }
.jobs-limit-badge .limit-upgrade {
    font-size: .625rem;
    color: var(--primary);
    font-weight: 600;
    cursor: pointer;
    margin-left: .25rem;
    padding-left: .375rem;
    border-left: 1px solid var(--border);
    transition: color .15s;
}
.jobs-limit-badge .limit-upgrade:hover { color: var(--primary-hover); text-decoration: underline; }

/* Filter / Sort Pills */
.filter-pill, .sort-pill { padding: .4rem .875rem; border-radius: 100px; border: 1px solid var(--border); background: var(--bg-card); font-family: inherit; font-size: .75rem; font-weight: 500; color: var(--text-secondary); cursor: pointer; transition: all .2s var(--ease-out); display: flex; align-items: center; gap: .3rem; }
.filter-pill i, .sort-pill i { font-size: .6875rem; }
.filter-pill:hover, .sort-pill:hover { border-color: var(--primary); color: var(--primary); transform: translateY(-1px); }
.filter-pill.active, .sort-pill.active { background: var(--primary); border-color: var(--primary); color: #fff; box-shadow: 0 2px 8px var(--primary-glow); }
/* clear-all-btn is defined in grid.css — removed duplicate here */

/* Views */
.view { display: none; }
.view.active { display: flex; flex-direction: column; gap: .75rem; animation: fadeIn .2s ease; }

/* ==========================================
   Goal-Gradient Effect — Enhanced Progress
   ========================================== */
.stack-progress-container {
    height: 8px;
    background: var(--border);
    border-radius: 8px;
    overflow: visible;
    position: relative;
    margin: .25rem 0;
}
.stack-progress {
    height: 100%;
    background: linear-gradient(90deg, var(--primary), var(--success-light));
    width: 0;
    transition: width .5s var(--ease-out);
    border-radius: 8px;
    position: relative;
}
.stack-progress.near-complete {
    background: linear-gradient(90deg, var(--success-light), #00e676);
    background-size: 200% 100%;
    animation: progress-shimmer 2s linear infinite;
}
/* Milestone dots */
.progress-milestones { position: absolute; inset: 0; pointer-events: none; }
.progress-milestone {
    position: absolute;
    top: 50%;
    transform: translate(-50%, -50%);
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: var(--bg-card);
    border: 2px solid var(--border);
    transition: all .3s var(--ease-out);
    z-index: 2;
}
.progress-milestone.reached {
    background: var(--success-light);
    border-color: var(--success-light);
    box-shadow: 0 0 8px rgba(68,185,120,.4);
}
.progress-milestone:nth-child(1) { left: 25%; }
.progress-milestone:nth-child(2) { left: 50%; }
.progress-milestone:nth-child(3) { left: 75%; }
/* Progress label */
.progress-label {
    position: absolute;
    right: 0;
    top: -22px;
    font-size: .6875rem;
    font-weight: 600;
    color: var(--primary);
    transition: color .3s;
}
.stack-progress.near-complete ~ .progress-label { color: var(--success-light); }

/* Card Stack */
.card-stack-container { position: relative; height: 440px; perspective: 1200px; }
.card-stack { width: 100%; height: 100%; position: relative; }

/* Swipe Hints — Selective Attention */
.swipe-hint { position: absolute; display: flex; flex-direction: column; align-items: center; gap: .375rem; opacity: 0; transition: opacity .2s, transform .2s; pointer-events: none; z-index: 50; }
.swipe-hint i { width: 48px; height: 48px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.25rem; backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px); }
.swipe-hint span { font-size: .6875rem; font-weight: 700; text-transform: uppercase; letter-spacing: .06em; }
.swipe-hint-left { left: .75rem; top: 50%; transform: translateY(-50%); }
.swipe-hint-left i { background: rgba(204,16,22,.15); color: var(--error); border: 1px solid rgba(204,16,22,.2); }
.swipe-hint-left span { color: var(--error); }
.swipe-hint-right { right: .75rem; top: 50%; transform: translateY(-50%); }
.swipe-hint-right i { background: rgba(68,185,120,.15); color: var(--success); border: 1px solid rgba(68,185,120,.2); }
.swipe-hint-right span { color: var(--success); }
.swipe-hint-down { bottom: .75rem; left: 50%; transform: translateX(-50%); }
.swipe-hint-down i { background: rgba(124,58,237,.15); color: var(--archive); border: 1px solid rgba(124,58,237,.2); }
.swipe-hint-down span { color: var(--archive); }

/* ==========================================
   Job Card — Law of Common Region + Prägnanz
   ========================================== */
.job-card {
    position: absolute;
    width: 100%;
    height: 100%;
    background: var(--bg-card);
    border-radius: var(--card-radius);
    border: 1px solid var(--border);
    box-shadow: var(--shadow-md);
    cursor: grab;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    transition: box-shadow .2s, border-color .3s, background .3s;
    user-select: none;
}
.job-card:active { cursor: grabbing; }
.job-card:hover { box-shadow: var(--shadow-lg); }

/* Card Hero Photo Header */
.card-hero {
    position: relative;
    height: 140px;
    background: linear-gradient(135deg, #1a2a44 0%, #2d4a7a 40%, #1a3a5c 100%);
    background-size: cover;
    background-position: center;
    flex-shrink: 0;
    overflow: hidden;
}
.card-hero-overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(180deg, transparent 40%, rgba(0,0,0,.35) 100%);
}
[data-theme="dark"] .card-hero { background: linear-gradient(135deg, #0d1b2a 0%, #1b2838 40%, #162447 100%); }

/* Match Score — floats on hero */
.match-score {
    position: absolute;
    top: .75rem;
    right: .75rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 52px;
    height: 52px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--success-light), #2ecc71);
    color: #fff;
    flex-shrink: 0;
    box-shadow: 0 4px 16px rgba(0,0,0,.25);
    z-index: 2;
}
.match-score .score { font-size: 1rem; font-weight: 700; line-height: 1; }
.match-score .label { font-size: .5rem; text-transform: uppercase; letter-spacing: .05em; opacity: .9; }

/* Card Body */
.card-body { flex: 1; padding: 1rem 1.25rem; display: flex; flex-direction: column; overflow: hidden; }
.card-identity { display: flex; align-items: center; gap: .75rem; margin-bottom: .75rem; }
.company-logo { width: 42px; height: 42px; border-radius: 10px; object-fit: contain; background: #fff; padding: 2px; border: 1px solid var(--border); flex-shrink: 0; }
[data-theme="dark"] .company-logo { background: rgba(255,255,255,.08); }
.job-title { font-family: var(--font-display); font-size: 1.25rem; font-weight: 600; line-height: 1.2; margin: 0; }
.company-name { font-size: .8125rem; color: var(--text-secondary); }
.job-meta { display: flex; flex-wrap: wrap; gap: .5rem; margin-bottom: .75rem; }
.meta-tag { display: inline-flex; align-items: center; gap: .3rem; padding: .3rem .7rem; background: var(--bg); border-radius: 8px; font-size: .75rem; color: var(--text-secondary); transition: transform .15s; }
.meta-tag:hover { transform: translateY(-1px); }
.meta-tag i { font-size: .6875rem; }
.meta-tag.salary { background: var(--success-soft); color: var(--success); font-weight: 600; }
.meta-tag.remote { background: var(--primary-soft); color: var(--primary); }
.meta-tag.job-type-tag { background: rgba(79,109,186,.08); color: #4f6dba; }
[data-theme="dark"] .meta-tag.job-type-tag { background: rgba(79,109,186,.15); }
.meta-tag.category-tag { background: var(--archive-soft); color: var(--archive); }

/* Description snippet */
.job-description-snippet {
    font-size: .8125rem;
    color: var(--text-secondary);
    line-height: 1.45;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    margin-bottom: .75rem;
}

/* Skills — separated section within card */
.skills-container { margin-top: auto; padding-top: .75rem; border-top: 1px solid var(--border); }
.skills-label { font-size: .625rem; text-transform: uppercase; letter-spacing: .12em; color: var(--text-tertiary); margin-bottom: .5rem; font-weight: 600; }
.skills-tags { display: flex; flex-wrap: wrap; gap: .375rem; }
.skill-tag { padding: .3rem .7rem; background: var(--bg); border: 1px solid var(--border); border-radius: 100px; font-size: .75rem; font-weight: 500; color: var(--text-secondary); transition: all .15s; }
.skill-tag.match { background: var(--primary-soft); border-color: var(--primary); color: var(--primary); font-weight: 600; }

/* Card Footer */
.card-footer {
    padding: .625rem 1.25rem;
    border-top: 1px solid var(--border);
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: var(--bg);
    margin-top: auto;
}
.posted-time { font-size: .75rem; color: var(--text-tertiary); display: flex; align-items: center; gap: .3rem; }
.posted-time i { font-size: .6875rem; }
.company-location { font-size: .75rem; color: var(--text-tertiary); display: flex; align-items: center; gap: .3rem; }
.company-location i { font-size: .6875rem; }

/* ==========================================
   Stack Wrapper — card + navigation arrows
   ========================================== */
.stack-wrapper {
    position: relative;
    display: flex;
    align-items: center;
    gap: .5rem;
}
.stack-wrapper .card-stack-container { flex: 1; }

/* Navigation Arrows */
.nav-arrow {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    border: 1.5px solid var(--border);
    background: var(--bg-card);
    color: var(--text-secondary);
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all .2s var(--ease-out);
    flex-shrink: 0;
    font-size: .875rem;
    box-shadow: var(--shadow-sm);
    z-index: 10;
}
.nav-arrow:hover { border-color: var(--primary); color: var(--primary); background: var(--primary-soft); transform: scale(1.08); }
.nav-arrow:active { transform: scale(.95); }
.nav-arrow-left:hover { border-color: var(--error); color: var(--error); background: var(--error-soft); }
.nav-arrow-right:hover { border-color: var(--success); color: var(--success); background: var(--success-soft); }

/* ==========================================
   Circular Action Buttons — Tinder/LinkedIn style
   ========================================== */
.stack-actions-circular {
    display: flex;
    justify-content: center;
    align-items: flex-start;
    gap: 2rem;
    padding: .75rem 0 .25rem;
}
.action-circle-group {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: .375rem;
}
.action-circle {
    width: 54px;
    height: 54px;
    border-radius: 50%;
    border: 2px solid var(--border);
    background: var(--bg-card);
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all .2s var(--ease-spring);
    font-size: 1.25rem;
    box-shadow: var(--shadow-md);
}
.action-circle:active { transform: scale(.9); }
.action-circle-label {
    font-size: .6875rem;
    font-weight: 600;
    color: var(--text-tertiary);
    letter-spacing: .02em;
}

/* Skip — red */
.circle-skip { color: var(--error); border-color: rgba(204,16,22,.25); }
.circle-skip:hover { background: var(--error); color: #fff; border-color: var(--error); transform: scale(1.1); box-shadow: 0 4px 20px rgba(204,16,22,.3); }

/* Details — blue */
.circle-details { color: var(--primary); border-color: rgba(10,102,194,.2); font-size: 1.125rem; }
.circle-details:hover { background: var(--primary); color: #fff; border-color: var(--primary); transform: scale(1.1); box-shadow: 0 4px 20px rgba(10,102,194,.3); }

/* Save — green */
.circle-save { color: var(--success-light); border-color: rgba(52,168,83,.25); }
.circle-save:hover { background: linear-gradient(135deg, var(--success-light), #2ecc71); color: #fff; border-color: transparent; transform: scale(1.1); box-shadow: 0 4px 20px rgba(52,168,83,.3); }
[data-theme="dark"] .circle-save:hover { background: linear-gradient(135deg, var(--success), #5ef0a0); }

/* Keyboard Hints — Law of Proximity (grouped closer to buttons) */
.keyboard-hints { display: flex; justify-content: center; gap: 1.5rem; padding: .25rem; margin-top: .25rem; }
.keyboard-hints span { font-size: .6875rem; color: var(--text-tertiary); display: flex; align-items: center; gap: .3rem; }
kbd { display: inline-flex; align-items: center; justify-content: center; min-width: 24px; height: 24px; padding: 0 .375rem; background: var(--bg-card); border: 1px solid var(--border-hover); border-radius: 5px; font-family: inherit; font-size: .6875rem; font-weight: 500; box-shadow: 0 1px 3px rgba(0,0,0,.06); transition: transform .15s; }
kbd:hover { transform: translateY(-1px); }

/* ==========================================
   Zeigarnik Effect — Prominent Reviewed Counter
   ========================================== */
.reviewed-counter {
    display: inline-flex;
    align-items: center;
    gap: .5rem;
    font-size: .8125rem;
    color: var(--text-secondary);
    font-weight: 500;
    background: var(--bg);
    padding: .375rem .75rem;
    border-radius: 100px;
    border: 1px solid var(--border);
}
.reviewed-counter strong { color: var(--primary); font-weight: 700; font-size: .875rem; }
.reviewed-counter .counter-ring {
    width: 22px;
    height: 22px;
    border-radius: 50%;
    border: 2.5px solid var(--border);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    position: relative;
}
.reviewed-counter .counter-ring svg {
    position: absolute;
    inset: -2.5px;
    width: calc(100% + 5px);
    height: calc(100% + 5px);
    transform: rotate(-90deg);
}
.reviewed-counter .counter-ring svg circle {
    fill: none;
    stroke: var(--primary);
    stroke-width: 2.5;
    stroke-linecap: round;
    transition: stroke-dashoffset .5s var(--ease-out);
}

/* ==========================================
   Flow — Streak Counter
   ========================================== */
.streak-badge {
    display: inline-flex;
    align-items: center;
    gap: .375rem;
    background: linear-gradient(135deg, var(--warning), #f59e0b);
    color: #fff;
    font-size: .75rem;
    font-weight: 700;
    padding: .3rem .75rem;
    border-radius: 100px;
    animation: streak-pulse .6s ease, streak-glow 1.5s ease-in-out infinite;
    box-shadow: 0 2px 10px rgba(240,180,41,.35);
}
.streak-badge i { font-size: .6875rem; }
